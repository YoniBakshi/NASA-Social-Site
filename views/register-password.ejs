<%- include('includes/head.ejs') %>

</head>

<body>
<main>
    <div class="container">

        <!-- Top Title Registration Part 1 Page -->
        <%- include('includes/topForm.ejs') %>

        <div class="row d-flex justify-content-center">
            <div class="col-md-8">
                <form class="form-floating" id="form" action="/users/register-password" method="POST">

                    <!-- Password Registration input -->
                    <div class="form-floating mb-4 ">
                        <input class="form-control" type="password" id="passwordRegister" name="passwordRegister"
                               minlength="3" maxlength="32" required>
                        <!-- placeholder="Password"> -->
                        <label for="floatingInputValue">Password</label>
                    </div>
                    <!-- Confirm Password Registration input -->
                    <div class="form-floating mb-4">
                        <input class="form-control" type="password" id="passwordConfirm" name="passwordConfirm"
                               minlength="3" maxlength="32" required>
                        <!-- placeholder="Confirm Password"> -->
                        <label for="floatingInputValue">Confirm Password</label>
                    </div>

                    <div class="row">
                        <!-- Back to Registration Part 1 button -->
                        <div class="col-6 d-grid gap-2">
                            <button type="button" onclick="window.location.assign('/users/register')"
                                    class="btn btn-light btn-block">Back
                            </button>
                        </div>
                        <div class="col-6 d-grid gap-2">
                            <!-- Submit Registration Form button -->
                            <button type="submit"  class="btn btn-primary btn-block">
                                Submit
                            </button>
                        </div>
                    </div>

                    <!-- Move to Login button -->
                    <div class="text-center">
                        <p><h5>Already registered? go to <a href="/">login</a> page</h5></p>
                    </div>

                </form>
            </div>
        </div>
    </div>
</main>

<script>
    function checkPassword() {
        // Get the values of the password and confirm password fields
        let password = document.getElementById("passwordRegister").value;
        let passwordConfirm = document.getElementById("passwordConfirm").value;
        console.log("before submit")
        // Check if the password and confirm password match
        if (password !== passwordConfirm)
            alert("Error: Passwords do not match!");
        else
            document.getElementById('form').submit(); // Return true to allow form submission
    }
</script>

<%- include('includes/end.ejs') %>
